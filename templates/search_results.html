{% extends "base.html" %}

{% block content %}
<div class="container my-5">
    <div class="card shadow-lg rounded-lg border-0">
        <div class="card-header bg-gradient-primary text-dark d-flex justify-content-between align-items-center">
            <h3 class="mb-0"><i class="fas fa-bus-alt mr-2"></i>Available Buses</h3>
            <a href="{{ url_for('search') }}" class="btn btn-outline-light btn-sm"><i class="fas fa-search mr-1"></i>Search Again</a>
        </div>
        <div class="card-body bg-light">
            {% if buses %}
                <div class="table-responsive">
                    <table class="table table-hover table-bordered table-striped text-center">
                        <thead class="thead-dark">
                            <tr>
                                <th scope="col">🚌 Bus Name</th>
                                <th scope="col">📍 From</th>
                                <th scope="col">📍 To</th>
                                <th scope="col">🎫 Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for bus in buses %}
                                <tr>
                                    <td class="font-weight-bold">{{ bus.name }}</td>
                                    <td>{{ bus.source }}</td>
                                    <td>{{ bus.destination }}</td>
                                    <td>
                                        <a href="{{ url_for('book_bus', bus_id=bus.id) }}" class="btn btn-success btn-sm shadow-sm">
                                            <i class="fas fa-ticket-alt"></i> Select Seat
                                        </a>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% else %}
                <div class="alert alert-warning text-center" role="alert">
                    <i class="fas fa-exclamation-triangle fa-lg"></i><br>
                    <strong>No buses found!</strong><br>Try different departure and destination locations.
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
